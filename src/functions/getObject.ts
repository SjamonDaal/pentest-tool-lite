const getObject = (theObject: object|[], key: string, value: string): object[] => {
  let result = [];
  if (theObject instanceof Array) {
    for (const obj of theObject) {
      result = result.concat(getObject(obj, key, value));
    }
  } else {
    for (const prop in theObject) {
      if (prop === key) {
        if (theObject[prop] === value) {
          result.push(theObject);
          break;
        }
      }
      if (prop === 'children') {
        result = result.concat(getObject(theObject[prop], key, value));
      }
    }
  }

  return result;
};

export default getObject;
